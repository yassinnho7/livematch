{
    "name": "Facebook Auto Post Matches",
    "nodes": [
        {
            "parameters": {
                "rule": {
                    "interval": [
                        {
                            "field": "hours",
                            "hoursInterval": 4
                        }
                    ]
                }
            },
            "name": "Schedule Every 4 Hours",
            "type": "n8n-nodes-base.scheduleTrigger",
            "typeVersion": 1,
            "position": [
                250,
                300
            ],
            "id": "schedule-fb",
            "notes": "ÙŠØ¹Ù…Ù„ ÙƒÙ„ 4 Ø³Ø§Ø¹Ø§Øª Ù„Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ù‚Ø§Ø¯Ù…Ø©"
        },
        {
            "parameters": {
                "method": "GET",
                "url": "https://YOUR_DOMAIN.pages.dev/data/matches.json",
                "options": {}
            },
            "name": "Fetch Matches JSON",
            "type": "n8n-nodes-base.httpRequest",
            "typeVersion": 3,
            "position": [
                450,
                300
            ],
            "id": "fetch-json",
            "notes": "Ø¬Ù„Ø¨ Ù…Ù„Ù Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ù…Ù† Ù…ÙˆÙ‚Ø¹Ùƒ"
        },
        {
            "parameters": {
                "jsCode": "const data = items[0].json;\nconst now = Math.floor(Date.now() / 1000);\nconst twoHoursLater = now + (2 * 60 * 60);\nconst fourHoursLater = now + (4 * 60 * 60);\n\n// Important leagues\nconst importantLeagues = [\n  'Premier League',\n  'La Liga',\n  'Serie A',\n  'Bundesliga',\n  'Ligue 1',\n  'UEFA Champions League',\n  'UEFA Europa League'\n];\n\n// Filter matches that start in 2-4 hours and are important\nconst upcomingMatches = data.matches.filter(match => {\n  return match.timestamp >= twoHoursLater && \n         match.timestamp <= fourHoursLater &&\n         importantLeagues.includes(match.league.name);\n});\n\n// Return each match as separate item for posting\nreturn upcomingMatches.map(match => ({\n  json: match\n}));"
            },
            "name": "Filter Important Matches",
            "type": "n8n-nodes-base.code",
            "typeVersion": 1,
            "position": [
                650,
                300
            ],
            "id": "filter-matches",
            "notes": "ØªØµÙÙŠØ© Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø§Ù„Ù…Ù‡Ù…Ø© Ø§Ù„ØªÙŠ Ø³ØªØ¨Ø¯Ø£ Ø®Ù„Ø§Ù„ 2-4 Ø³Ø§Ø¹Ø§Øª"
        },
        {
            "parameters": {
                "jsCode": "const match = $json;\n\n// Format time in Arabic\nconst matchDate = new Date(match.timestamp * 1000);\nconst timeStr = matchDate.toLocaleTimeString('ar-EG', {\n  hour: '2-digit',\n  minute: '2-digit',\n  hour12: false\n});\n\n// Create post content\nconst postMessage = `ğŸ”´ Ù…Ø¨Ø§Ø±Ø§Ø© Ø§Ù„ÙŠÙˆÙ…\n\n${match.home.name} âš¡ ${match.away.name}\n\nğŸ† ${match.league.name}\nğŸ•’ ${timeStr}\n\nğŸ‘‡ Ø´Ø§Ù‡Ø¯ Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø© Ù…Ø¨Ø§Ø´Ø±Ø©\n`;\n\nconst postLink = `https://YOUR_DOMAIN.pages.dev/watch.html?match=${match.id}`;\n\nreturn {\n  json: {\n    message: postMessage,\n    link: postLink,\n    match_id: match.id,\n    home_team: match.home.name,\n    away_team: match.away.name\n  }\n};"
            },
            "name": "Create Post Content",
            "type": "n8n-nodes-base.code",
            "typeVersion": 1,
            "position": [
                850,
                300
            ],
            "id": "create-post",
            "notes": "Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø´ÙˆØ± Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"
        },
        {
            "parameters": {
                "method": "POST",
                "url": "https://graph.facebook.com/v18.0/YOUR_GROUP_ID/feed",
                "sendQuery": true,
                "queryParameters": {
                    "parameters": [
                        {
                            "name": "access_token",
                            "value": "YOUR_FACEBOOK_ACCESS_TOKEN"
                        }
                    ]
                },
                "sendBody": true,
                "bodyParameters": {
                    "parameters": [
                        {
                            "name": "message",
                            "value": "={{ $json.message }}"
                        },
                        {
                            "name": "link",
                            "value": "={{ $json.link }}"
                        }
                    ]
                }
            },
            "name": "Post to Facebook Group",
            "type": "n8n-nodes-base.httpRequest",
            "typeVersion": 3,
            "position": [
                1050,
                300
            ],
            "id": "post-fb",
            "notes": "Ù†Ø´Ø± Ø§Ù„Ù…Ù†Ø´ÙˆØ± ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©"
        },
        {
            "parameters": {
                "amount": 30,
                "unit": "seconds"
            },
            "name": "Wait Between Posts",
            "type": "n8n-nodes-base.wait",
            "typeVersion": 1,
            "position": [
                1250,
                300
            ],
            "id": "wait-posts",
            "notes": "Ø§Ù†ØªØ¸Ø§Ø± 30 Ø«Ø§Ù†ÙŠØ© Ø¨ÙŠÙ† ÙƒÙ„ Ù…Ù†Ø´ÙˆØ± Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø³Ø¨Ø§Ù…"
        }
    ],
    "connections": {
        "Schedule Every 4 Hours": {
            "main": [
                [
                    {
                        "node": "Fetch Matches JSON",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "Fetch Matches JSON": {
            "main": [
                [
                    {
                        "node": "Filter Important Matches",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "Filter Important Matches": {
            "main": [
                [
                    {
                        "node": "Create Post Content",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "Create Post Content": {
            "main": [
                [
                    {
                        "node": "Post to Facebook Group",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "Post to Facebook Group": {
            "main": [
                [
                    {
                        "node": "Wait Between Posts",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        }
    },
    "settings": {},
    "staticData": null,
    "tags": [],
    "triggerCount": 0,
    "updatedAt": "2026-01-22T13:00:00.000Z",
    "versionId": ""
}