# YallaShoot Stream Extraction & Mobile Player Setup

ุฏููู ุดุงูู ูููููุฉ ุงุณุชุฎุฑุงุฌ ุฑูุงุจุท ุงูุจุซ ุงููุจุงุดุฑ (m3u8) ุงููููุฉ ูู ูููุน YallaShoot ูุชุดุบูููุง ุฏุงุฎู ุชุทุจูู ูุงุชู ูุญููู ูุฎุตุต (ุณูุงุก ูุงู Flutter ุฃู Android/iOS) ุฏูู ุงูุญุงุฌุฉ ููุงุนุชูุงุฏ ุนูู ูุดุบู ุงููููุน ุงูุฃุตูู ุฃู ุฅุนูุงูุงุชู.

## ๐ ูุง ูู ุงูุญูุงูุฉ ุงูุชู ูุณุชุฎุฏููุง ุงููููุนุ
ุงููููุน ูุง ูุถุน ุฑุงุจุท ุงูู `m3u8` ุฏุงุฎู ุงูู HTML ุจุดูู ุตุฑูุญ. ุนูุถุงู ุนู ุฐููุ ูููู ุจุชูููุฏ ุงูุฑุงุจุท **ุฏููุงููููุงู** ุนูุฏ ูู ูุฑุฉ ูุชู ูููุง ุชุญููู ุตูุญุฉ ุงูุณูุฑูุฑ (ูุซู `?serv=1`) ุจุงุณุชุฎุฏุงู ูุบุฉ ุงูุฌุงูุง ุณูุฑุจุช ูู ูุชุตูุญ ุงูุฒุงุฆุฑ.

ุชุนุชูุฏ ุฎูุงุฑุฒููุฉ ุชูููุฏ ุงูุฑุงุจุท ุนูู 3 ุนูุงุตุฑ:
1. **ุงููุชุบูุฑ `D`**: ูุตูููุฉ (Array) ุชุญุชูู ุนูู ูุงุฆูุฉ ุฏููููุงุช ุงูุจุซ ุงููุชุงุญุฉ.
2. **ุฑูู ูุงุณู ุงูููุงุฉ**: ูุงูุชู ุชููู ููุชูุจุฉ ูู ููุฏ ุงูู HTMLุ ูุซู `ch10`.
3. **ุงููุชุบูุฑ `sb` (Subdomain)**: ููู ุงุณู ุงููุทุงู ุงููุฑุนู ุงูุฏููุงููููุ ููุชู ุญุณุงุจู ุจุฑูุฌูุงู ุจุงูุงุนุชูุงุฏ ุนูู **ุงูููุช ุงูุญุงูู** `Date.now()`. ูุฐู ูู ุงูุฎุฏุนุฉ ุงูุฃุณุงุณูุฉ ุงูุชู ุชููุน ูุณุฎ ุงูุฑุงุจุท ููุถุนู ูู ูุดุบู ุขุฎุฑุ ูุฃู ุงูุฑุงุจุท ูุชุบูุฑ ูู ุจุถุนุฉ ุฏูุงุฆู.

---

## ๐ ููู ููุณุฑ ูุฐู ุงูุญูุงูุฉ ุจุฑูุฌูุงู ูู ุชุทุจูู ุงููุงุชูุ

ูุฃู ุชุทุจูู ุงููุงุชู ููููู ุฌูุจ ููุฏ ุงูู HTML ุจุฑูุฌูุงู ููุณุชุทูุน ุชูููุฐ ุฏูุงู ุจุฑูุฌูุฉุ ูููููุง ูุญุงูุงุฉ ุณููู ุงููุชุตูุญ ูุฅูุดุงุก ุงูุฑุงุจุท ุจุฃููุณูุง.

### ุงูุฎุทูุฉ 1: ุงุณุชุฎุฑุงุฌ ุงููุนุทูุงุช ูู ุงูู HTML
ูู ุจุนูู ุทูุจ `HTTP GET` ุฅูู ุตูุญุฉ ุงูุจุซ ุงูุฃุตููุฉ (ูุซุงู: `https://aa.yallashoot2026.com/albaplayer/sports-d1/?serv=1`). ุจุงุณุชุฎุฏุงู `Regex` (ุงูุชุนุงุจูุฑ ุงูููุทููุฉ)ุ ุณุชุญุชุงุฌ ููุจุญุซ ุนู:
*   `const D = [...]`: ูุงุณุชุฎุฑุงุฌ ูุตูููุฉ ุงูุฏููููุงุช ูุญูุธ ุงูุฏูููู ุงูุฃูู.
*   `hls/ch10/master.m3u8`: ููุนุฑูุฉ ุงุณู ุงูููุงุฉ ุงูุฏููู.

### ุงูุฎุทูุฉ 2: ูุญุงูุงุฉ ุฎูุงุฑุฒููุฉ ุงูููุช (`sb`)
ุชุทุจููู ูุฌุจ ุฃู ููุชูู ุฏุงูุฉ ุชููู ุจููุณ ุงูุญุณุจุฉ ุงูุญุฑููุฉ ุงูููุฌูุฏุฉ ูู ููุฏ ุงููููุน.
ูุซุงู ุจูุบุฉ Dart (Flutter):
```dart
String calculateSb() {
  int n = DateTime.now().millisecondsSinceEpoch;
  int v = (n ~/ 14400000) + ((n / 86400000) * 1.5).floor();
  int l = (v % 7) + 6;
  String c = 'abcdefghijklmnopqrstuvwxyz';
  String r = '';
  while (l-- > 0) {
    r = c[v % 26] + r;
    v = (v / 26).floor();
  }
  return r;
}
```

### ุงูุฎุทูุฉ 3: ุชุฑููุจ ุฑุงุจุท ุงูุจุซ ุงูููุงุฆู
ูููู ุจุฏูุฌ ุงูุนูุงุตุฑ ุงูุซูุงุซ: `https://{sb}.{domain}/hls/{channel}/master.m3u8`

---

## ๐ ูุดููุฉ ืู `Referer` (403 Forbidden)
ุณูุฑูุฑุงุช ุงูุจุซ ุงูุฎุงุต ุจุงููููุน ุชุฑูุถ ุฃู ุงุชุตุงู ูุฃุชููุง ูุง ูุญุชูู ุนูู ุชุฑููุณุฉ `Referer: https://aa.yallashoot2026.com/`.

*   **ูุชุตูุญ ุงููููุจููุชุฑ (ุงูุชุฌุฑุจุฉ ุงูุชู ูููุง ุจูุง)**: ุงููุชุตูุญ ูููุน ุชุนุฏูู ุชุฑููุณุฉ ุงูู Referer. ูุฐูู ุงุถุทุฑุฑูุง ูุฅูุดุงุก ุฎุงุฏู Node.js ูุญูู `server-test.js` ููุนูู ูู "ูุณูุท" ูุฅุฑุณุงู ุงูู Referer ุงูุตุญูุญ ูุฌูุจ ุงูุจุซ ูุชูุฑูุฑู ูุตูุญุฉ ุงูู HTML.
*   **ุชุทุจููุงุช ุงููุงุชู (ุงูุญู ุงููุนูู)**: ููุชุจุงุช ุนุฑุถ ุงูููุฏูู ูู ุงูููุงุชูุ ูุซู ุญุฒูุฉ `video_player` ูู Flutterุ **ุชุณูุญ ุจุชุนุฏูู ูุฐู ุงูุชุฑููุณุฉ ุจุญุฑูุฉ ุชุงููุฉ!**

ูุฐุงุ ุนูุฏ ุจุฑูุฌุฉ ุงูุชุทุจูู ุงููุนููุ ุณุชูุฑุฑ ุงูุฑุงุจุท ุงููุณุชุฎุฑุฌ ูู Video Player ูุชุนุทูู ุงูู Headers ุงูุชุงููุฉ:
```json
{
  "Referer": "https://aa.yallashoot2026.com/",
  "Origin": "https://aa.yallashoot2026.com"
}
```
ูุณูุนูู ุงูุจุซ ูุจุงุดุฑุฉู ูุจุฏูู ุงููุทุงุน.

---

## ๐ ูููุงุช ุงูุฏููู ุงููุฑุฌุนู (ุงูููุฌูุฏุฉ ูู ูุฐุง ุงููุฌูุฏ)

*   `extractor.js`: ุณูุฑูุจุช ููุถุญ ุทุฑููุฉ ุงูุงุณุชุฎูุงุต ุจุฎูุงุฑุฒููุฉ ุงูููุช ูุญุณุงุจ ุงูุฑุงุจุท ูุจุงุดุฑุฉ ูู ุณุทุฑ ุงูุฃูุงูุฑ.
*   `server-test.js`: ุฎุงุฏู Node.js ูุตุบุฑูููุง ุจุฅูุดุงุฆู ููุณุฑ ุญูุงูุฉ `CORS` ู `Referer` ูุงุฎุชุจุงุฑ ุงูุจุซ ูุญููุงู ุนูู ุงููุชุตูุญ. (ููุงุญุธุฉ ูุชุดุบููู: `node server-test.js`)
*   `player-test.html`: ูุงุฌูุฉ HTML ุจุณูุทุฉ ุชุณุชุฎุฏู `hls.js`ุ ุชูุณุชุนูู ูุน ุงูุณูุฑูุฑ ุงููุญูู ูุงุฎุชุจุงุฑ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ ููุดุงูุฏุฉ ุงูุจุซ ุงููุนูู.
